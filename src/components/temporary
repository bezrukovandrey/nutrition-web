<div class="mt-16 text-l sm:text-xl  font-bold leading-10 text-center text-black max-md:max-w-full">
  Minerals
</div>
<div class="flex flex-row justify-center mt-12 w-full max-w-[1024px] max-md:mt-10 max-md:max-w-full">
  <div class=" w-1/2 grid grid-cols-1 sm:grid-cols-2 gap-6">
    {#each $mealInfo1.minerals as { name, amount, unit, percentOfDailyNeeds }}
    <div class="flex flex-col justify-center font-bold max-md:mt-10 max-md:max-w-full">
      <div class="flex gap-6 max-md:flex-wrap max-md:max-w-full">
        <div class="flex flex-col items-start pl-4 sm:pl-8 border-l-2 border-solid border-l-black">
          <!-- В зависимости от режима просмотра выводим проценты или абсолютные значения -->
          {#if $viewMode === 'percent'}
            <div class="text-xl sm:text-xxl leading-10 {percentOfDailyNeeds === Math.max(...$mealInfo1.minerals.map(m => m.percentOfDailyNeeds)) ? 'text-mainGreen' : 'text-black'}">{percentOfDailyNeeds.toFixed(0)}%</div>
          {:else if $viewMode === 'weight'}
            <div class="text-xl sm:text-xxl leading-10 text-black">{amount.toFixed(0)} {unit}</div>
          {/if}
          <div class="mt-2 text-sm sm:text-m leading-8 text-black">{name}</div>
        </div>
      </div>
    </div>
  {/each}
    
  </div>
  <div class=" w-1/2 grid grid-cols-1 sm:grid-cols-2 gap-6">
    {#each $mealInfo2.minerals as { name, amount, unit, percentOfDailyNeeds }}
    <div class="flex flex-col justify-center font-bold max-md:mt-10 max-md:max-w-full">
      <div class="flex gap-6 max-md:flex-wrap max-md:max-w-full">
        <div class="flex flex-col items-start pl-4 sm:pl-8 border-l-2 border-solid border-l-black">
          <!-- В зависимости от режима просмотра выводим проценты или абсолютные значения -->
          {#if $viewMode === 'percent'}
            <div class="text-xl sm:text-xxl leading-10 {percentOfDailyNeeds === Math.max(...$mealInfo2.minerals.map(m => m.percentOfDailyNeeds)) ? 'text-mainGreen' : 'text-black'}">{percentOfDailyNeeds.toFixed(0)}%</div>
          {:else if $viewMode === 'weight'}
            <div class="text-xl sm:text-xxl leading-10 text-black">{amount.toFixed(0)} {unit}</div>
          {/if}
          <div class="mt-2 text-sm sm:text-m leading-8 text-black">{name}</div>
        </div>
      </div>
    </div>
  {/each}
    
  </div>
</div>

<div class="mt-16 text-l sm:text-xl  font-bold leading-10 text-center text-black max-md:max-w-full">
  Other nutrients
</div>
<div class="flex flex-row justify-center mt-12 w-full max-w-[1024px] max-md:mt-10 max-md:max-w-full">
  <div class=" w-1/2 grid grid-cols-1 sm:grid-cols-2 gap-6">
    {#each $mealInfo1.otherNutrients as { name, amount, unit, percentOfDailyNeeds }}
    <div class="flex flex-col justify-center font-bold max-md:mt-10 max-md:max-w-full">
      <div class="flex gap-6 max-md:flex-wrap max-md:max-w-full">
        <div class="flex flex-col items-start pl-4 sm:pl-8 border-l-2 border-solid border-l-black">
          <!-- В зависимости от режима просмотра выводим проценты или абсолютные значения -->
          {#if $viewMode === 'percent'}
            <div class="text-xl sm:text-xxl leading-10 text-black">{percentOfDailyNeeds.toFixed(0)}%</div>
          {:else if $viewMode === 'weight'}
            <div class="text-xl sm:text-xxl leading-10 text-black">{amount.toFixed(0)} {unit}</div>
          {/if}
          <div class="mt-2 text-sm sm:text-m leading-8 text-black">{name}</div>
        </div>
      </div>
    </div>
  {/each}
    
  </div>
  <div class=" w-1/2 grid grid-cols-1 sm:grid-cols-2 gap-6">
    {#each $mealInfo2.otherNutrients as { name, amount, unit, percentOfDailyNeeds }}
    <div class="flex flex-col justify-center font-bold max-md:mt-10 max-md:max-w-full">
      <div class="flex gap-6 max-md:flex-wrap max-md:max-w-full">
        <div class="flex flex-col items-start pl-4 sm:pl-8 border-l-2 border-solid border-l-black">
          <!-- В зависимости от режима просмотра выводим проценты или абсолютные значения -->
          {#if $viewMode === 'percent'}
            <div class="text-xl sm:text-xxl leading-10 text-black">{percentOfDailyNeeds.toFixed(0)}%</div>
          {:else if $viewMode === 'weight'}
            <div class="text-xl sm:text-xxl leading-10 text-black">{amount.toFixed(0)} {unit}</div>
          {/if}
          <div class="mt-2 text-sm sm:text-m leading-8 text-black">{name}</div>
        </div>
      </div>
    </div>
  {/each}
    
  </div>
</div>